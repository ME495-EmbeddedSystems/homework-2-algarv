#!/usr/bin/env python
import rospy
import numpy as np
from geometry_msgs.msg import Twist,Vector3
from turtle_control.msg import TurtleVelocity

def main():
    pub = rospy.Publisher('turtle1/cmd_vel',Twist,queue_size = 500)
    parameters = rospy.get_param("/trajectory")
    W = parameters[0]
    H = parameters[1]
    T = parameters[3]
    t = rospy.get_time()
    twist_value = Twist(Vector3(x=(W/2)*np.sin(2*np.pi*t)/T,y=(H/2)*np.sin((4*np.pi*t)/T),z=0)),Vector3(x=0,y=0,z=0))
    pub.publish(twist_value)

if __name__ == '__main__':
    rispy.init_node(trajectory)
    main()
    rospy.spin()